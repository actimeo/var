<div class="section_ops">
  <span [hidden]="viewedit || viewmove">
    <span class="btn-group btn-group-sm">
      <button (click)="onMoveSection()" 
	      type="button" class="btn btn-default personsectionmove"
	      [footertip]="i18n.t('portal.tip.move_section')">
	<span class="glyphicon glyphicon-sort"></span>
      </button>
      <button (click)="onRenameSection()" 
	      type="button" class="btn btn-default personsectionrename"
	      [footertip]="i18n.t('portal.tip.rename_section')">
	<span class="glyphicon glyphicon-pencil"></span>
      </button>
      <button (click)="onDeleteSection()" 
	      type="button" class="btn btn-default personsectiondelete"
	      [footertip]="i18n.t('portal.tip.delete_section')">
	<span class="glyphicon glyphicon-minus"></span>
      </button>
    </span>
  </span>
  
  <form [hidden]="!viewedit" class="form-inline personsectionrename" (ngSubmit)="doRename()" #userForm="ngForm">
    <div class="input-group input-group-sm">
      <input type="text" class="form-control personsectionrename" [(ngModel)]="new_name" ngControl required [focus]="sectionname_focused" >
      <div class="input-group-btn">
	<button type="submit" class="btn btn-primary" [disabled]="!userForm.valid"><span class="glyphicon glyphicon-ok"></span></button>
	<button type="button" class="btn btn-default" (click)="onCancelRename()"><span class="glyphicon glyphicon-remove"></span></button>
      </div>
    </div>
  </form>

  <form [hidden]="!viewmove" class="form-inline personsectionmove" (ngSubmit)="doMove()" #userFormMove="ngForm">
    <div class="input-group input-group-sm">
      <select [(ngModel)]="before_pos" ngControl required [focus]="move_focused" class="form-control personsectionmove">
	<option *ngFor="#c of movechoices | psemove:section" [value]="c.pse_order">{{c.pse_name}}</option>
      </select>
      <div class="input-group-btn">
	<button type="submit" class="btn btn-primary" [disabled]="!userFormMove.valid"><span class="glyphicon glyphicon-ok"></span></button>
	<button type="button" class="btn btn-default" (click)="onCancelMove()"><span class="glyphicon glyphicon-remove"></span></button>
      </div>
    </div>
  </form>

</div>
<ul>
  <li *ngFor="#menu of personmenus"><personmenu [entity]="entity" [menu]="menu" (onchange)="onMenuChange()"></personmenu></li>
</ul>
<personmenu-add [pse_id]="section.pse_id" (onadded)="onMenuAdded()"></personmenu-add>
